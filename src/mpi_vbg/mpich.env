#
# MPICH on Tofu Shell Environment
#
export LD_LIBRARY_PATH=${HOME}/mpich-tofu/lib:$LD_LIBRARY_PATH
export MPIR_CVAR_OFI_USE_PROVIDER=tofu
export MPICH_CH4_OFI_ENABLE_SCALABLE_ENDPOINTS=1
export MPIR_CVAR_ALLTOALL_SHORT_MSG_SIZE=2147483647 # 32768 in default (integer value)  
export MPIR_CVAR_CH4_OFI_ENABLE_ATOMICS=-1
export MPIR_CVAR_CH4_OFI_ENABLE_MR_VIRT_ADDRESS=1
export MPIR_CVAR_CH4_OFI_ENABLE_RMA=1
export MPIR_CVAR_CH4_OFI_ENABLE_TAGGED=0
### export MPIR_CVAR_CH4_OFI_ENABLE_TAGGED=1
#	export MPIR_CVAR_CH4_OFI_EAGER_MAX_MSG_SIZE=16384
#	export MPIR_CVAR_CH4_OFI_EAGER_MAX_MSG_SIZE=2048
###export MPIR_CVAR_CH4_OFI_CAPABILITY_SETS_DEBUG=1
export UT_MSGMODE=0	# Eager
####export UT_MSGMODE=1	# Rendezous
export UTF_TRANSMODE=1	# Aggressive
export TOFU_NAMED_AV=1

# export MPIR_CVAR_ALLTOALL_INTRA_ALGORITHM=pairwise_sendrecv_replace
#	for 123 procs, no more eager receiver buffer
export MPIR_CVAR_ALLTOALL_INTRA_ALGORITHM=brucks
export MPIR_CVAR_REDUCE_INTRA_ALGORITHM=binomial
##export MPIR_CVAR_REDUCE_INTRA_ALGORITHM=nb
export MPIR_CVAR_ALLREDUCE_INTRA_ALGORITHM=recursive_doubling	# error on 

##export MPIR_CVAR_CH4_OFI_SHORT_SEND_SIZE=16384
export MPIR_CVAR_CH4_OFI_SHORT_SEND_SIZE=2048

# Others
