#!/bin/bash
#
# MPICH on Tofu Shell Environment
#
. ${HOME}/mpich-tofu/lib/mpich.env

if [ X$MPICH_TOFU_SHOW_PARAMS != X ]; then
   echo "LD_LIBRARY_PATH = " $LD_LIBRARY_PATH
   echo "TOFU_NAMED_AV = " $TOFU_NAMED_AV
   echo "UTF_MSGMODE   = " $UTF_MSGMODE "(0: Eager, 1: Rendezous)"
   echo "UTF_TRANSMODE = " $UTF_TRANSMODE "(0: Chained, 1: Aggressive)"
   echo "UTF_DEBUG     = " $UTF_DEBUG
   echo "MPIR_CVAR_CH4_OFI_ENABLE_TAGGED      = " $MPIR_CVAR_CH4_OFI_ENABLE_TAGGED
   echo "MPIR_CVAR_CH4_OFI_EAGER_MAX_MSG_SIZE = " $MPIR_CVAR_CH4_OFI_EAGER_MAX_MSG_SIZE
   echo "MPIR_CVAR_REDUCE_INTRA_ALGORITHM     = " $MPIR_CVAR_REDUCE_INTRA_ALGORITHM
   echo "MPIR_CVAR_ALLREDUCE_INTRA_ALGORITHM  = " $MPIR_CVAR_ALLREDUCE_INTRA_ALGORITHM
   echo "MPIR_CVAR_ALLTOALL_INTRA_ALGORITHM   = " $MPIR_CVAR_ALLTOALL_INTRA_ALGORITHM
   echo "MPIR_CVAR_CH4_OFI_EAGER_MAX_MSG_SIZE = " $MPIR_CVAR_CH4_OFI_EAGER_MAX_MSG_SIZE
   echo "MPIR_CVAR_CH4_OFI_SHORT_SEND_SIZE    = " $MPIR_CVAR_CH4_OFI_SHORT_SEND_SIZE
fi

# Others

mpiexec $*
